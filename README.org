* Bison-Json-Parser
  This is intend to be a library designed to provide total control
  over [[https://www.json.org/][JSON]] data structure in *C*. 

** Dependency
   You will need to have [[https://www.gnu.org/software/bison/][GNU Bison]] in order to be able to compile the
   library. There's no need to have *lex* or *flex*, because the lexer
   is implemented by hand.

** Build
   To build the library, simply use [[https://www.gnu.org/software/make/][GNU make]] utiliy by running *make*.

** Install
   After [[*Build][building]] the library, run *sudo make install*. This will copy
   all headers files in */usr/local/include/JSON* and the builded
   shared library in */usr/local/lib/libJSON.so*.

** Testing
   There's currently only one [[test][test]] that can be find under
   *./tests/src/test-main.c*. To execute the test, run *make
   tests*. Note that all tests will be run by [[http://valgrind.org/][Valgrind]].

** Documentation
   The documentation is generated by [[http://www.stack.nl/~dimitri/doxygen/][Doxygen]]. To generate the
   documentation, run *make doc*.

** Usage
#+BEGIN_SRC c
  #include <stdio.h>

  #include <JSON/json.h>   // Contain JSON data structure
  #include <JSON/print.h>  // Recursive printing of JSON data
  #include <JSON/parser.h> // Bison parser

  int main(int argc, char* argv[])
  {
    if (argc < 3)
      return 1;

    FILE* in = fopen(argv[1], "r");

    if (!in)
      return 2;
      
    FILE* out = fopen(argv[2], "w");
    
    if (!out)
    {
      fclose(in);
      return 3;
    }

    JSON_Dict* dict = NULL;

    if (JSON_parse(&dict, in) != 0)
      return 4;
     
    fclose(in);

    if (!dict)
      return 5;
      
    JSON_PrintDict(dict, stdout);
    
    JSON_Type* type = JSON_MallocType(NULL, JSON_DICT);
    
    type->dict = dict; // Now type wrap dict
    
    JSON_PrintType(dict, out); // Same as before but with differents function/fd
    
    fclose(out);
    
    JSON_FreeType(type); // JSON_FreeDict would work. But type won't be able to be free because of dangling pointer.

    return 0;
  }
#+END_SRC
